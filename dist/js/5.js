webpackJsonp([5],{197:function(t,n,e){"use strict";function s(t){c||e(229)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(231),o=e.n(a),i=e(232),c=!1,r=e(5),l=s,d=r(o.a,i.a,!1,l,"data-v-35cba95c",null);d.options.__file="src\\components\\shopcart\\shopcart.vue",d.esModule&&Object.keys(d.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.default=d.exports},207:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={apihost:"http://vue.studyit.io/"}},229:function(t,n,e){var s=e(230);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(6)("21d47c64",s,!1)},230:function(t,n,e){n=t.exports=e(3)(void 0),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n /** 购物车列表的样式 */\n.shopCartItem[data-v-35cba95c]{\n    height: 100px;\n    border-bottom: 1px solid rgba(92,92,92,0.3);\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n.thumbImageStyle[data-v-35cba95c]{\n    width: 65px;\n    height: 65px;\n    border: 1px solid rgba(92,92,92,0.3);\n    padding: 5px;\n    border-radius: 5px;\n    margin-left: 5px;\n}\n.thumbImageStyle img[data-v-35cba95c]{\n    width: 100%;\n    height: 100%;\n}\n.goodsInfoStyle[data-v-35cba95c]{\n    flex: 1;\n    margin-left: 5px;\n}\n.switchStyle[data-v-35cba95c]{\n    margin-left: 5px;\n}\n.deleteButtonStyle[data-v-35cba95c]{\n    margin-right: 5px;\n}\n.goodsInfoStyle p[data-v-35cba95c]:first-child{\n    color: #0094ff;\n}\n.goodsInfoStyle p:last-child span[data-v-35cba95c]:first-child{\n    color: red;\n    font-size: 16px;\n}\n\n/**\n* 统计信息的样式\n*/\n.statisticsGoodsInfoStyle[data-v-35cba95c]{\n    height: 100px;\n    background-color: rgba(92,92,92,0.3);\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n.statisticsGoodsInfoStyle div[data-v-35cba95c]:first-child{\n    margin-left: 5px;\n}\n.statisticsGoodsInfoStyle div p span[data-v-35cba95c]{\n    color: red;\n    font-size: 16px;\n}\n.payStyle[data-v-35cba95c]{\n    margin-right: 5px;\n}\n",""])},231:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e(207),a=function(t){return t&&t.__esModule?t:{default:t}}(s),o=e(7);n.default={data:function(){return{shopCartList:[],totalCount:0,totalPrice:0}},created:function(){this.getShopCartData()},methods:{getShopCartData:function(){var t=this,n=this.$store.getters.getGoodsList;if(0!=n.length){for(var e={},s=0;s<n.length;s++){var o=n[s];e[o.goodsId]?e[o.goodsId]+=o.count:e[o.goodsId]=o.count}var i=[];for(var c in e)i.push(c);var r=i.join(","),l=a.default.apihost+"api/goods/getshopcarlist/"+r;this.$http.get(l).then(function(n){n.body.message.forEach(function(t){t.count=e[t.id],t.isSelected=!0}),t.shopCartList=n.body.message,t.staticsTotalCountAndTotalPrice()})}},staticsTotalCountAndTotalPrice:function(){var t=0,n=0;this.shopCartList.forEach(function(e){e.isSelected&&(t+=e.count,n+=e.count*e.sell_price)}),this.totalCount=t,this.totalPrice=n},deleteGoods:function(t){var n=this;o.MessageBox.confirm("确定删除次商品吗?").then(function(e){var s=n.shopCartList[t].id;console.log(s),n.$store.commit("deleteGoodsById",s),n.shopCartList.splice(t,1),n.staticsTotalCountAndTotalPrice()},function(t){})}}}},232:function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"shopCartListStyle"},t._l(t.shopCartList,function(n,s){return e("div",{key:n.id,staticClass:"shopCartItem"},[e("mt-switch",{staticClass:"switchStyle",on:{change:function(n){t.staticsTotalCountAndTotalPrice()}},model:{value:n.isSelected,callback:function(e){t.$set(n,"isSelected",e)},expression:"item.isSelected"}}),t._v(" "),e("div",{staticClass:"thumbImageStyle"},[e("img",{attrs:{src:n.thumb_path,alt:""}})]),t._v(" "),e("div",{staticClass:"goodsInfoStyle"},[e("p",[t._v(t._s(n.title))]),t._v(" "),e("p",[e("span",[t._v(t._s(n.sell_price))]),t._v("  \n                    "),e("span",[t._v("商品数量 "+t._s(n.count))])])]),t._v(" "),e("mt-button",{staticClass:"deleteButtonStyle",attrs:{disabled:!n.isSelected,type:"danger",size:"small"},on:{click:function(n){t.deleteGoods(s)}}},[t._v("删 除")])],1)})),t._v(" "),e("div",{staticClass:"statisticsGoodsInfoStyle"},[e("div",[e("h3",[t._v("总计(不含运费)")]),t._v(" "),e("p",[t._v("已经勾选商品 "),e("span",[t._v(t._s(t.totalCount))]),t._v(" 件,总价 "),e("span",[t._v(t._s(t.totalPrice))]),t._v(" 元")])]),t._v(" "),e("mt-button",{staticClass:"payStyle",attrs:{type:"danger",size:"normal"}},[t._v("去结算")])],1)])},a=[];s._withStripped=!0;var o={render:s,staticRenderFns:a};n.a=o}});